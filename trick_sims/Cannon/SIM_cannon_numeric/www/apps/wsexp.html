<!DOCTYPE html>
<html>
  <head>
    <title>WS Experiments</title>
  </head>
  <body>
      <header>
      </header>
      <section>
      </section>

      <div id="output"></div>
      <script type="text/javascript">

          function sendMessage(msg) {
              ws.send(msg);
              log("Message sent");
          }

          function log(s) {  
              var p = document.createElement("p");  
              p.style.wordWrap = "break-word";  
              p.textContent = s;  
              output.appendChild(p);
              //console.log(s);
          }

          var ws = new WebSocket("ws://localhost:8888", "myProtocol");

          // Event handler for the WebSocket connection opening
          ws.onopen = function(e) {
              log("Connection established");
              sendMessage("Hello WebSocket Server from Browser Client!");
          };
          // Event handler for receiving text messages
          ws.onmessage = function(e) {
             log(e.data);
          };
          // Event handler for errors in the WebSocket object
          ws.onerror = function(e) {
             console.log("WebSocket Error: " , e);
             //Custom function for handling errors
             handleErrors(e);
          };
          // Event handler for closed connections
          ws.onclose = function(e) {
             console.log("Connection closed", e);
          };

      </script>
  </body>
</html>
